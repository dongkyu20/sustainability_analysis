!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Kakao=t.Kakao||{})}(this,(function(t){"use strict";var e="object"==typeof global&&global&&global.Object===Object&&global,n="object"==typeof self&&self&&self.Object===Object&&self,o=e||n||Function("return this")(),r=o.Symbol,a=Object.prototype,i=a.hasOwnProperty,c=a.toString,u=r?r.toStringTag:void 0,l=Object.prototype.toString,s=r?r.toStringTag:void 0;function f(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var o=!0}catch(t){}var r=c.call(t);return o&&(e?t[u]=n:delete t[u]),r}(t):function(t){return l.call(t)}(t)}function p(t){return null!=t&&"object"==typeof t}var d=Array.isArray;function h(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function y(t){return t}function m(t){if(!h(t))return!1;var e=f(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var v,b,w,g,k=o["__core-js_shared__"],j=(v=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",A=Function.prototype.toString,S=/^\[object .+?Constructor\]$/,O=Function.prototype,x=Object.prototype,_=O.toString,I=x.hasOwnProperty,E=RegExp("^"+_.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=Date.now,L=function(){try{var t=function(t){return!(!h(t)||(e=t,j&&j in e))&&(m(t)?E:S).test(function(t){if(null!=t){try{return A.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}(e=function(t){return null==t?void 0:t.defineProperty}(Object))?e:void 0;return t({},"",{}),t}catch(t){}var e}(),F=L,U=F?function(t,e){return F(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:y,C=(b=U,w=0,g=0,function(){var t=T(),e=16-(t-g);if(g=t,e>0){if(++w>=800)return arguments[0]}else w=0;return b.apply(void 0,arguments)}),P=C;function R(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t}var K=/^(?:0|[1-9]\d*)$/;function z(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&("number"==n||"symbol"!=n&&K.test(t))&&t>-1&&t%1==0&&t<e}function B(t,e,n){"__proto__"==e&&F?F(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $(t,e){return t===e||t!=t&&e!=e}var D=Object.prototype.hasOwnProperty;function q(t,e,n){var o=t[e];D.call(t,e)&&$(o,n)&&(void 0!==n||e in t)||B(t,e,n)}var M=Math.max;function N(t,e){return P(function(t,e,n){return e=M(void 0===e?t.length-1:e,0),function(){for(var o=arguments,r=-1,a=M(o.length-e,0),i=Array(a);++r<a;)i[r]=o[e+r];r=-1;for(var c=Array(e+1);++r<e;)c[r]=o[r];return c[e]=n(i),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,c)}}(t,e,y),t+"")}function J(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function H(t){return null!=t&&J(t.length)&&!m(t)}function W(t,e,n){if(!h(n))return!1;var o=typeof e;return!!("number"==o?H(n)&&z(e,n.length):"string"==o&&e in n)&&$(n[e],t)}var V=Object.prototype;function G(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||V)}function Q(t){return p(t)&&"[object Arguments]"==f(t)}var X=Object.prototype,Y=X.hasOwnProperty,Z=X.propertyIsEnumerable,tt=Q(function(){return arguments}())?Q:function(t){return p(t)&&Y.call(t,"callee")&&!Z.call(t,"callee")},et=tt,nt="object"==typeof t&&t&&!t.nodeType&&t,ot=nt&&"object"==typeof module&&module&&!module.nodeType&&module,rt=ot&&ot.exports===nt?o.Buffer:void 0,at=(rt?rt.isBuffer:void 0)||function(){return!1},it={};it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Arguments]"]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object Boolean]"]=it["[object DataView]"]=it["[object Date]"]=it["[object Error]"]=it["[object Function]"]=it["[object Map]"]=it["[object Number]"]=it["[object Object]"]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object WeakMap]"]=!1;var ct="object"==typeof t&&t&&!t.nodeType&&t,ut=ct&&"object"==typeof module&&module&&!module.nodeType&&module,lt=ut&&ut.exports===ct&&e.process,st=function(){try{return ut&&ut.require&&ut.require("util").types||lt&&lt.binding&&lt.binding("util")}catch(t){}}(),ft=st&&st.isTypedArray,pt=ft?function(t){return function(e){return t(e)}}(ft):function(t){return p(t)&&J(t.length)&&!!it[f(t)]},dt=pt,ht=Object.prototype.hasOwnProperty;function yt(t,e){var n=d(t),o=!n&&et(t),r=!n&&!o&&at(t),a=!n&&!o&&!r&&dt(t),i=n||o||r||a,c=i?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],u=c.length;for(var l in t)!e&&!ht.call(t,l)||i&&("length"==l||r&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||z(l,u))||c.push(l);return c}function mt(t,e){return function(n){return t(e(n))}}var vt=mt(Object.keys,Object),bt=Object.prototype.hasOwnProperty;function wt(t){return H(t)?yt(t):function(t){if(!G(t))return vt(t);var e=[];for(var n in Object(t))bt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var gt=Object.prototype.hasOwnProperty;function kt(t){return H(t)?yt(t,!0):function(t){if(!h(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=G(t),n=[];for(var o in t)("constructor"!=o||!e&&gt.call(t,o))&&n.push(o);return n}(t)}var jt,At=(jt=function(t,e){!function(t,e,n){var o=!n;n||(n={});for(var r=-1,a=e.length;++r<a;){var i=e[r],c=void 0;void 0===c&&(c=t[i]),o?B(n,i,c):q(n,i,c)}}(e,kt(e),t)},N((function(t,e){var n=-1,o=e.length,r=o>1?e[o-1]:void 0,a=o>2?e[2]:void 0;for(r=jt.length>3&&"function"==typeof r?(o--,r):void 0,a&&W(e[0],e[1],a)&&(r=o<3?void 0:r,o=1),t=Object(t);++n<o;){var i=e[n];i&&jt(t,i)}return t}))),St=mt(Object.getPrototypeOf,Object),Ot=Function.prototype,xt=Object.prototype,_t=Ot.toString,It=xt.hasOwnProperty,Et=_t.call(Object),Tt=function(t,e){if(null==t)return t;if(!H(t))return function(t,e){return t&&function(t,e,n){for(var o=-1,r=Object(t),a=n(t),i=a.length;i--;){var c=a[++o];if(!1===e(r[c],c,r))break}return t}(t,e,wt)}(t,e);for(var n=t.length,o=-1,r=Object(t);++o<n&&!1!==e(r[o],o,r););return t},Lt=Object.prototype,Ft=Lt.hasOwnProperty,Ut=N((function(t,e){t=Object(t);var n=-1,o=e.length,r=o>2?e[2]:void 0;for(r&&W(e[0],e[1],r)&&(o=1);++n<o;)for(var a=e[n],i=kt(a),c=-1,u=i.length;++c<u;){var l=i[c],s=t[l];(void 0===s||$(s,Lt[l])&&!Ft.call(t,l))&&(t[l]=a[l])}return t}));function Ct(t,e){var n;return(d(t)?R:Tt)(t,"function"==typeof(n=e)?n:y)}function Pt(t){return"string"==typeof t||!d(t)&&p(t)&&"[object String]"==f(t)}function Rt(t){return!0===t||!1===t||p(t)&&"[object Boolean]"==f(t)}function Kt(t){return p(t)&&1===t.nodeType&&!function(t){if(!p(t)||"[object Object]"!=f(t))return!1;var e=St(t);if(null===e)return!0;var n=It.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&_t.call(n)==Et}(t)}function zt(t,e){return Array.prototype.slice.call(t).map(e)}function Bt(t,e){return[t,e].reduce((function(t,e){return t.filter((function(t){return-1===e.indexOf(t)}))}))}function $t(t){return Object.keys(t||{})}function Dt(t){return Kt(t)?t:Pt(t)?document.querySelector(t):null}function qt(t,e,n){t.addEventListener&&t.addEventListener(e,n,!1)}function Mt(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}function Nt(t){var e=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?function(t){return t}:encodeURIComponent,n=zt($t(t),(function(n){var o=t[n];return e(n)+"="+e(p(o)?JSON.stringify(o):o)}));return n.join("&")}function Jt(t){if(!d(t))throw new Error("validators should be an Array");return function(e){return t.some((function(t){return t(e)}))}}function Ht(t,e){if(t){if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(t,e):void 0}}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}!function(){var t={_data:{},setItem:function(t,e){return this._data[t]=String(e)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:null},removeItem:function(t){return delete this._data[t]},clear:function(){return this._data={}}};try{"localStorage"in window&&null!==window.localStorage&&(window.localStorage.setItem("store",""),window.localStorage.removeItem("store"),window.localStorage)}catch(e){return t}}();var Vt,Gt,Qt,Xt,Yt=function(){function t(t){var n={},o=/(dolfin)[ \/]([\w.]+)/.exec(t)||/(edge)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(tizen)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(webkit)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||["","unknown"];return"webkit"===o[1]?o=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||[o[0],"safari",o[2]]:"mozilla"===o[1]?/trident/.test(t)?o[1]="msie":o[1]="firefox":/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)&&(o[1]="polaris"),n[o[1]]=!0,n.name=o[1],n.version=e(o[2]),n}function e(t){var e={},n=t?t.split(/\.|-|_/):["0","0","0"];return e.info=n.join("."),e.major=n[0]||"0",e.minor=n[1]||"0",e.patch=n[2]||"0",e}function n(t){return function(t){return!!(t.match(/ipad/)||t.match(/android/)&&!t.match(/mobi|mini|fennec/)||t.match(/macintosh/)&&window.navigator.maxTouchPoints>1)}(t)?"tablet":function(t){return!(!t.match(/linux|windows (nt|98)|macintosh|cros/)||t.match(/android|mobile|polaris|lgtelecom|uzard|natebrowser|ktf;|skt;/))}(t)?"pc":function(t){return!!t.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}(t)?"mobile":""}function o(t){var n={},o=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||!!/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)&&["","polaris","0.0.0"]||/(windows)(?: nt | phone(?: os){0,1} | )([\w._\-]+)/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||!!/android/.test(t)&&["","android","0.0.0"]||!!/(windows)/.test(t)&&["","windows","0.0.0"]||/(mac) os x ([\w._\-]+)/.exec(t)||/(tizen)[ \/]([\w._\-]+);/.exec(t)||!!/(linux)/.test(t)&&["","linux","0.0.0"]||!!/webos/.test(t)&&["","webos","0.0.0"]||/(cros)(?:\s[\w]+\s)([\d._\-]+)/.exec(t)||/(bada)[ \/]([\w._\-]+)/.exec(t)||!!/bada/.test(t)&&["","bada","0.0.0"]||!!/(rim|blackberry|bb10)/.test(t)&&["","blackberry","0.0.0"]||["","unknown","0.0.0"];return"iphone"===o[1]||"ipad"===o[1]||"ipod"===o[1]?o[1]="ios":"windows"===o[1]&&"98"===o[2]&&(o[2]="0.98.0"),"mac"===o[1]&&"undefined"!=typeof window&&window.navigator.maxTouchPoints>1&&(o[1]="ios"),"cros"===o[1]&&(o[1]="chrome"),n[o[1]]=!0,n.name=o[1],n.version=e(o[2]),n}Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var r=["crios","fxios","daumapps"];function a(t,n){var o={},a=null,i=r;Array.isArray(n)?i=r.concat(n):"string"==typeof n&&(i=r.concat([n]));for(var c=0,u=i.length;c<u;c+=1){var l=i[c];if(a=new RegExp("("+l+")[ \\/]([\\w._\\-]+)").exec(t))break}return a||(a=["",""]),a[1]?(o.isApp=!0,o.name=a[1],o.version=e(a[2])):o.isApp=!1,o}return function(e,r){var i=function(t){return t?t.toLowerCase():"undefined"!=typeof window&&window.navigator&&"string"==typeof window.navigator.userAgent?window.navigator.userAgent.toLowerCase():""}(e);return{ua:i,browser:t(i),platform:n(i),os:o(i),app:a(i,r)}}}(),Zt=Yt(),te="https://kauth.kakao.com",ee="https://story.kakao.com",ne="https://developers.kakao.com",oe=(Gt=(Vt=location).protocol,Qt=Vt.hostname,Xt=Vt.port,"".concat(Gt,"//").concat(Qt).concat(Xt?":"+Xt:"")),re=Zt;/KAKAOTALK/i.test(re.ua);var ae="1.43.5".concat(""),ie=navigator,ce=["sdk/".concat(ae),"os/javascript","sdk_type/javascript","lang/".concat(ie.userLanguage||ie.language),"device/".concat(ie.platform.replace(/ /g,"_")),"origin/".concat(encodeURIComponent(oe))].join(" "),ue={accountDomain:"https://accounts.kakao.com",authDomain:te,authorize:"".concat(te,"/oauth/authorize"),loginWidget:"".concat(te,"/public/widget/login/kakaoLoginWidget.html"),redirectUri:"JS-SDK",universalKakaoLink:"".concat("https://talk-apps.kakao.com","/scheme/"),talkLoginScheme:"kakaokompassauth://authorize",talkLoginRedirectUri:"https://kapi.kakao.com/cors/afterlogin.html",talkInappScheme:"kakaotalk://inappbrowser",talkSyncpluginScheme:"kakaotalk://bizplugin?plugin_id=6011263b74fc2b49c73a7298",apiRemote:"".concat("https://kapi.kakao.com","/cors/"),sharerDomain:"https://sharer.kakao.com",pickerDomain:"https://friend-picker.kakao.com",appsDomain:"https://apps.kakao.com",talkLinkScheme:"kakaolink://send",talkAndroidPackage:"com.kakao.talk",channel:"https://pf.kakao.com",channelIcon:"".concat(ne,"/assets/img/about/logos"),storyShare:"".concat(ee,"/s/share"),storyChannelFollow:"".concat(ee,"/s/follow"),storyIcon:"".concat(ne,"/sdk/js/resources/story/icon_small.png"),storyPostScheme:"storylink://posting",naviScheme:"kakaonavi-sdk://navigate",naviFallback:"https://kakaonavi.kakao.com/launch/index.do"},le=null;function se(){return le}function fe(t){le=t}var pe=null;function de(t){Error.prototype.constructor.apply(this,arguments),this.name="KakaoError",this.message=t}function he(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(!p(t))throw new Error("params should be an Object");m(e.before)&&e.before(t),m(e.defaults)?Ut(t,e.defaults(t)):Ut(t,e.defaults);var o=e.required,r=void 0===o?{}:o,a=e.optional,i=void 0===a?{}:a,c=Bt($t(r),$t(t));if(c.length>0)throw new de("Missing required keys: ".concat(c.join(",")," at ").concat(n));var u=At({},r,i),l=Bt($t(t),$t(u));if(l.length>0)throw new de("Invalid parameter keys: ".concat(l.join(",")," at ").concat(n));return Ct(t,(function(t,e){!function(t,e,n){if(!1===e(t))throw new de("Illegal argument for ".concat(n))}(t,u[e],'"'.concat(e,'" in ').concat(n))})),m(e.after)&&e.after(t),t}function ye(t,e){if(re.os.android){var n=JSON.stringify({appKey:le,KA:ce});return"market://details?id=".concat(t,"&referrer=").concat(n)}return re.os.ios?"https://itunes.apple.com/app/id".concat(e):location.href}de.prototype=new Error;var me={};function ve(t,e,n){Ct(n,(function(n,o){var r=e.getAttribute(n);null!==r&&(t[o]="true"===r||"false"===r?"true"===r:r)}))}var be=function(){var t=Yt(),e=t.os,n=["opr/"],o=["firefox","KAKAOTALK"];function r(t){window.top.location.href=t}function a(t,e,n){var o=(new Date).getTime();return setTimeout((function(){var r=(new Date).getTime();i()&&r-o<t+100&&n(e)}),t)}function i(){for(var t=["hidden","webkitHidden"],e=0,n=t.length;e<n;e++)if(void 0!==document[t[e]])return!document[t[e]];return!0}function c(t){setTimeout((function(){(function(){var t=document.createElement("iframe");return t.id="appLauncher",t.style.border="none",t.style.width="0",t.style.height="0",t.style.display="none",t.style.overflow="hidden",document.body.appendChild(t),t}()).src=t}),100)}return function(u){var l,s,f,p,d="function"==typeof u.willInvokeApp?u.willInvokeApp:function(){},h="function"==typeof u.onAppMissing?u.onAppMissing:r,y="function"==typeof u.onUnsupportedEnvironment?u.onUnsupportedEnvironment:function(){};d(),e.android?(s=t.browser.chrome&&+t.browser.version.major>=25,f=new RegExp(n.join("|"),"i"),p=new RegExp(o.join("|"),"i"),(s&&!f.test(t.ua)||p.test(t.ua))&&u.intentURI&&!u.useUrlScheme?function(e){function n(){top.location.href=e}t.browser.chrome?n():setTimeout(n,100)}(u.intentURI):u.storeURL&&(l=u.urlScheme,a(300,u.storeURL,h),c(l))):e.ios&&u.storeURL?function(e,n,o,r){var u=a(5e3,n,o);parseInt(t.os.version.major,10)<8?function(t){window.addEventListener("pagehide",(function e(){i()&&(clearTimeout(t),window.removeEventListener("pagehide",e))}))}(u):function(t){document.addEventListener("visibilitychange",(function e(){i()&&(clearTimeout(t),document.removeEventListener("visibilitychange",e))}))}(u),parseInt(t.os.version.major,10)>8&&t.os.ios?(void 0===r?r=e:clearTimeout(u),function(t){window.top.location.href=t}(r)):c(e)}(u.urlScheme,u.storeURL,h,u.universalLink):setTimeout((function(){y()}),100)}}(),we={required:{title:Pt},optional:{desc:Pt,name:Pt,images:d,type:Pt},defaults:{type:"website"},after:function(t){t.images&&(t.imageurl=t.images,delete t.images)}},ge={createShareButton:{required:{container:Jt([Kt,Pt])},optional:{url:Pt,text:Pt},defaults:{url:location.href}},share:{optional:{url:Pt,text:Pt},defaults:{url:location.href}},open:{optional:{url:Pt,text:Pt,urlInfo:function(t){return p(t)&&!!he(t,we,"Story.open")},install:Rt},defaults:{url:location.href,install:!1}},createFollowButton:{required:{container:Jt([Kt,Pt]),id:Pt},optional:{showFollowerCount:Rt,type:function(t){if(!d(t))throw new Error("elements should be an Array");return function(e){return t.indexOf(e)>-1}}(["horizontal","vertical"])},defaults:{showFollowerCount:!0,type:"horizontal"},after:function(t){"@"!==t.id[0]&&(t.id="@".concat(t.id))}}};function ke(t){var e,n,o,r=At({url:t.url},Ae());t.text&&(r.text=t.text),e="".concat(ue.storyShare,"?").concat(Nt(r)),(o=me[n="kakaostory_social_plugin"])&&o.close&&!o.closed&&o.close(),me[n]=window.open(e,n,"width=670, height=800, scrollbars=yes"),me[n]}var je=0;function Ae(){var t={kakao_agent:ce};return null!==se()&&(t.app_key=se()),t}var Se,Oe=[],xe=(Se=[Object.freeze({__proto__:null,createShareButton:function(t){var e=Dt(t.container);if(!e)throw new de("container is required for Story.createShareButton: pass in element or id");ve(t,e,{url:"data-url"}),t=he(t,ge.createShareButton,"Story.createShareButton");var n=function(t,e){var n=document.createElement("a");n.setAttribute("href","#");var o=document.createElement("img");return o.setAttribute("src",t),o.setAttribute("title",e),o.setAttribute("alt",e),n.appendChild(o),n}(ue.storyIcon,"카카오스토리 웹 공유 버튼");e.appendChild(n);var o=function(e){e.preventDefault(),ke(t)};qt(n,"click",o),Oe.push((function(){Mt(n,"click",o),e.removeChild(n)}))},share:function(t){ke(t=he(t,ge.share,"Story.share"))},open:function(t){var e=function(t){var e=location.hostname||"",n=At({apiver:"1.0",appver:ae,appid:e,appname:e,post:t.text?"".concat(t.text,"\n").concat(t.url):t.url},Ae());return t.urlInfo&&(n.urlinfo=JSON.stringify(t.urlInfo),n.appname=t.urlInfo.name||n.appname),"".concat(ue.storyPostScheme,"?").concat(Nt(n))}(t=he(t,ge.open,"Story.open")),n={urlScheme:e,intentURI:["intent:".concat(e,"#Intent"),"".concat(t.install?"package=com.kakao.story;":"","end;")].join(";"),appName:"KakaoStory",storeURL:ye("com.kakao.story","486244601"),onUnsupportedEnvironment:function(){t.fail&&t.fail()}};try{be(n)}catch(t){}},createFollowButton:function(t){var e=Dt(t.container);if(!e)throw new de("container is required for Story.createFollowButton: pass in element or id");ve(t,e,{id:"data-id",showFollowerCount:"data-show-follower-count",type:"data-type"});var n=function(t){var e=je++,n=t.showFollowerCount&&"horizontal"===t.type?85:59,o=t.showFollowerCount&&"vertical"===t.type?46:20,r=document.createElement("iframe");return r.src=function(t,e){var n=At({id:t.id,type:t.type,hideFollower:!t.showFollowerCount,frameId:e},Ae());return"".concat(ue.storyChannelFollow,"?").concat(Nt(n))}(t,e),r.setAttribute("frameborder","0"),r.setAttribute("marginwidth","0"),r.setAttribute("marginheight","0"),r.setAttribute("scrolling","no"),r.setAttribute("style","width:".concat(n,"px; height:").concat(o,"px;")),{iframe$:r,messageHandler:function(t){if(t.data&&/\.kakao\.com$/.test(t.origin)&&"string"==typeof t.data){var a=function(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,r,a,i=[],c=!0,u=!1;try{for(r=(e=e.call(t)).next;!(c=(n=r.call(e)).done)&&(i.push(n.value),3!==i.length);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(t)||Ht(t,3)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(zt(t.data.split(","),(function(t){return parseInt(t,10)}))),i=a[0],c=a[1],u=a[2];i===e&&(n!==c&&(r.style.width="".concat(c,"px")),o!==u&&(r.style.height="".concat(u,"px")))}}}}(t=he(t,ge.createFollowButton,"Story.createFollowButton")),o=n.iframe$,r=n.messageHandler;e.appendChild(o),qt(window,"message",r),Oe.push((function(){Mt(window,"message",r),e.removeChild(o)}))},cleanup:function(){!function(t){Ct(t,(function(t){t()})),t.length=0}(Oe)}})],At.apply(void 0,[{cleanup:function(){Ct(Se,(function(t){return t.cleanup&&t.cleanup()}))}}].concat(function(t){return function(t){if(Array.isArray(t))return Wt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ht(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Se))));function _e(){return null!==se()}"function"==typeof define&&define.amd&&(window.Kakao=t),t.Story=xe,"function"==typeof window.kakaoAsyncInit&&setTimeout((function(){window.kakaoAsyncInit()}),0),t.VERSION=ae,t.cleanup=function(){var t=this;Object.keys(this).filter((function(e){return p(t[e])})).forEach((function(e){return t[e].cleanup()})),fe(null)},t.init=function(t,e){if(re.browser.msie&&re.browser.version.major<9)throw new de("Kakao.init: Unsupported browser");if(_e())throw new de("Kakao.init: Already initialized");if(!Pt(t))throw new de("Kakao.init: App key must be provided");fe(t),e&&function(t){pe=t,ce=ce.split(" extra_app_key")[0]+" extra_app_key/".concat(pe)}(e)},t.isInitialized=_e,Object.defineProperty(t,"__esModule",{value:!0})}));